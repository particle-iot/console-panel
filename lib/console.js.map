{"version":3,"file":"console.js","sources":["../src/console-manager.js","../src/console-view.js","../src/console.js"],"sourcesContent":["import {Emitter} from 'event-kit';\n\nexport default class ConsoleManager {\n\tconstructor(view) {\n\t\tthis.view = view;\n\t\tthis.emitter = new Emitter;\n\t}\n\n\tdestroy() {\n\t\tthis.emitter.dispose();\n\t}\n\n\t// Toggle console panel\n\ttoggle() {\n\t\tthis.view.toggle();\n\t}\n\n  stickBottom() {\n    this.view.stickTop = false;\n  }\n\n  stickTop() {\n    this.view.stickTop = true;\n  }\n\n\t// Log message with default level\n\tlog(message, level = 'info') {\n\t\tthis.view.log(message, level);\n\t}\n\n\t// Log error\n\terror(message) {\n\t\tthis.log(message, 'error');\n\t}\n\n\t// Log warning\n\twarn(message) {\n\t\tthis.log(message, 'warn');\n\t}\n\n\t// Log notice\n\tnotice(message) {\n\t\tthis.log(message, 'notice');\n\t}\n\n\t// Log debug message\n\tdebug(message) {\n\t\tthis.log(message, 'debug');\n\t}\n\n\t// Log raw text\n\traw(rawText, level, lineEnding) {\n\t\tif (level === null) {\n\t\t\tlevel = 'info';\n\t\t}\n\t\tif (lineEnding === null) {\n\t\t\tlineEnding = \"\\n\";\n\t\t}\n\t\trawText.split(lineEnding).forEach((line) => {\n\t\t\tthis.log(line, level);\n\t\t});\n\t}\n\n\t// Clear console panel\n\tclear() {\n\t\tthis.view.clear();\n\t}\n}\n","import {$$, View} from 'atom-space-pen-views';\n\nexport default class ConsoleView extends View {\n\tstatic content() {\n\t\tthis.div({id: 'atom-console'}, () => {\n\t\t\tthis.div({class: 'panel-body view-scroller', outlet: 'body'}, () => {\n\t\t\t\tthis.pre({class: 'native-key-bindings', outlet: 'output', tabindex: -1});\n\t\t\t});\n\t\t});\n\t}\n\n\t// Tear down any state and detach\n\tdestroy() {\n\t\tif (this.disposables !== null) {\n\t\t\tthis.disposables.dispose();\n\t\t}\n\t}\n\n\tgetTitle() {\n\t\treturn 'Console';\n\t}\n\n\tgetPath() {\n\t\treturn 'console';\n\t}\n\n\tgetUri() {\n\t\treturn `particle-dev://editor/${this.getPath()}`;\n\t}\n\n\tgetDefaultLocation() {\n\t\treturn 'bottom';\n\t}\n\n\tshow() {\n\t\tatom.workspace.open(this, {activatePane: false});\n\t\tatom.workspace.getBottomDock().show();\n\t}\n\n\thide() {\n\t\tatom.workspace.getBottomDock().hide();\n\t}\n\n\ttoggle() {\n\t\tatom.workspace.toggle(this);\n\t}\n\n\tlog(message, level) {\n\t\tconst at_bottom = ((this.body.scrollTop() + this.body.innerHeight() + 10) > this.body[0].scrollHeight);\n\n\t\tif (typeof message === 'string') {\n\t\t\tthis.output.append($$(function() {\n\t\t\t\tthis.p({class: `level-${level}`}, message);\n\t\t\t})\n\t\t\t);\n\t\t} else {\n\t\t\tthis.output.append(message);\n\t\t}\n\n\t\tif (at_bottom && !this.stickTop) {\n\t\t\tthis.body.scrollTop(this.body[0].scrollHeight);\n\t\t} else if (this.stickTop) {\n      this.body.scrollTop(0);\n    }\n\t\tif(atom.config.get('console-panel.show') === true ){\t\t\t\n\t\t\tthis.show();\n\t\t}\n\t}\n\n\tclear() {\n\t\tthis.output.empty();\n\t\tthis.hide();\n\t}\n}\n","import { CompositeDisposable } from 'atom';\nimport ConsoleManager from './console-manager';\nimport ConsoleView from './console-view';\nimport packageConfig from './config/config-schema.json';\n\nexport default {\n\tconfig: packageConfig,\n\n\tconsoleView: null,\n\tsubscriptions: null,\n\n\tactivate() {\n\t\tthis.consoleView = new ConsoleView();\n\t\tthis.consoleManager = new ConsoleManager(this.consoleView);\n\n\t\t// Events subscribed to in atom's system can be easily cleaned up with a CompositeDisposable\n\t\tthis.subscriptions = new CompositeDisposable;\n\n\t\t// Register command that toggles this view\n\t\tthis.subscriptions.add(\n\t\t\tatom.commands.add('atom-workspace', {\n\t\t\t\t'console:toggle': () => this.consoleManager.toggle()\n\t\t\t})\n\t\t);\n\t},\n\n\tdeactivate() {\n\t\tthis.subscriptions.dispose();\n\t\tthis.consoleView.destroy();\n\t},\n\n\tprovideConsolePanel() {\n\t\treturn this.consoleManager;\n\t},\n\n\tconsumeToolBar(toolBar) {\n\t\tthis.toolBar = toolBar('console-tool-bar');\n\n\t\tif(atom.config.get('console-panel.addToToolbar') === true ){\n\t\t\tthis.toolBar.addButton({\n\t\t\t\ticon: 'align-left',\n\t\t\t\ticonset: 'fi',\n\t\t\t\ttooltip: 'Toggle Console',\n\t\t\t\tcallback: 'console:toggle',\n\t\t\t\tpriority: 600\n\t\t\t});\n\t\t}\n\t}\n};\n"],"names":["Emitter","View","$$","CompositeDisposable"],"mappings":"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"}